{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\mapbox-travel-advisor-master\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, createRef } from \"react\";\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport getPlacesData from \"./api/index\";\nimport Header from \"./components/Header/Header\";\nimport List from \"./components/List/List\";\nimport Map from \"./components/Map/Map\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [places, setPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [bounds, setBounds] = useState({});\n  const [clickedMarker, setClickedMarker] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [type, setType] = useState(\"restaurants\");\n  const [rating, setRating] = useState(\"\");\n  const geocoderContainerRef = /*#__PURE__*/createRef();\n  const [mode, setMode] = useState('light');\n  const theme = createTheme({\n    palette: {\n      mode: mode\n    }\n  });\n  useEffect(() => {\n    setIsLoading(true);\n    let CancelToken = axios.CancelToken;\n    let source = CancelToken.source();\n    getPlacesData(type, bounds.ne, bounds.sw, source).then(data => {\n      if (data !== undefined) {\n        setPlaces(data);\n        setFilteredPlaces([]);\n        setRating(\"\");\n        setIsLoading(false);\n      }\n    });\n    return () => source.cancel('Cancelled due to new request coming in');\n  }, [type, bounds]);\n  useEffect(() => {\n    setFilteredPlaces(places.filter(place => place.rating > rating));\n  }, [rating, places]); // Added 'places' as a dependency\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        containerRef: geocoderContainerRef,\n        mode: mode,\n        setMode: setMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          items: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(List, {\n            places: filteredPlaces.length ? filteredPlaces : places,\n            clickedMarker: clickedMarker,\n            isLoading: isLoading,\n            type: type,\n            setType: setType,\n            rating: rating,\n            setRating: setRating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          items: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Map, {\n            setBounds: setBounds,\n            places: filteredPlaces.length ? filteredPlaces : places,\n            setClickedMarker: setClickedMarker,\n            containerRef: geocoderContainerRef,\n            mode: mode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Cp+NYWMVTNKgbSmPTxVJrM/baog=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/User/Desktop/mapbox-travel-advisor-master/src/App.js"],"names":["React","useEffect","useState","createRef","CssBaseline","Grid","ThemeProvider","createTheme","getPlacesData","Header","List","Map","axios","App","places","setPlaces","filteredPlaces","setFilteredPlaces","bounds","setBounds","clickedMarker","setClickedMarker","isLoading","setIsLoading","type","setType","rating","setRating","geocoderContainerRef","mode","setMode","theme","palette","CancelToken","source","ne","sw","then","data","undefined","cancel","filter","place","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, createRef } from \"react\";\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nimport getPlacesData from \"./api/index\";\n\nimport Header from \"./components/Header/Header\";\nimport List from \"./components/List/List\";\nimport Map from \"./components/Map/Map\";\nimport axios from 'axios';\n\nconst App = () => {\n  const [places, setPlaces] = useState([]);\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [bounds, setBounds] = useState({});\n  const [clickedMarker, setClickedMarker] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [type, setType] = useState(\"restaurants\");\n  const [rating, setRating] = useState(\"\");\n  const geocoderContainerRef = createRef();\n  const [mode, setMode] = useState('light');\n\n  const theme = createTheme({\n    palette: {\n      mode: mode\n    }\n  });\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    let CancelToken = axios.CancelToken;\n    let source = CancelToken.source();\n\n    getPlacesData(type, bounds.ne, bounds.sw, source).then((data) => {\n      if (data !== undefined) {\n        setPlaces(data);\n        setFilteredPlaces([]);\n        setRating(\"\");\n        setIsLoading(false);\n      }\n    });\n\n    return () => source.cancel('Cancelled due to new request coming in');\n  }, [type, bounds]);\n\n  useEffect(() => {\n    setFilteredPlaces(places.filter(place => place.rating > rating));\n  }, [rating, places]); // Added 'places' as a dependency\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div>\n        <CssBaseline/>\n        <Header containerRef={geocoderContainerRef} mode={mode} setMode={setMode}/>\n\n        <Grid container>\n          <Grid items xs={12} md={4}>\n            <List\n              places={filteredPlaces.length ? filteredPlaces : places}\n              clickedMarker={clickedMarker}\n              isLoading={isLoading}\n              type={type}\n              setType={setType}\n              rating={rating}\n              setRating={setRating}\n            />\n          </Grid>\n          <Grid items xs={12} md={8}>\n            <Map\n              setBounds={setBounds}\n              places={filteredPlaces.length ? filteredPlaces : places}\n              setClickedMarker={setClickedMarker}\n              containerRef={geocoderContainerRef}\n              mode={mode}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}